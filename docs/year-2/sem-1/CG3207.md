---
comments: true
---

# CG3207 Course Review

## Introduction

- **Full name**: [CG3207 Computer Architecture](https://nusmods.com/courses/CG3207/computer-architecture)
- **Target audience**: NUS Year 3/4 CEG Students
- **Purpose of the course**: To provide students with a comprehensive understanding of the elegance of computer architecture and implement these fancy and elegant ideas on Nexys 4 FPGA using Verilog HDL.
- **Notes Content**: View the [CG3207 Lecture Notes](https://wenbo-notes.gitbook.io/ddca-notes/) (This is also known as DDCA - Digital Design and Computer Architecture)

## Course Content

### Overview of Topics Covered

1. **History, Technology and Performance**: Moore's Law, Modern Technology Trends (Several issues and current industry solutions), Performance Measurement (CPU Time = IC x CPI x Clock Cycle Time)
2. **Digital System Design**: FPGA/ASIC Design Flow, FPGA working principles
3. **Verilog for Synthesis**: Some general rules for synthesizability, when are physical registers inferred.
4. **RISC-V Instruction Set Architecture**: The elegance of RISC-V instruction format, RISC-V features.
5. **RISC-V Microarchitecture**: Datapath, Control Unit, Implementing a single-cycle microarchitecture.
6. **Arithmetic for Computers**: Adders, Shifters, Multipliers, Dividers, ALU Design, Number Systems.
7. **Pipelining**: The elegance of pipelining, pipeline hazards and hazard handling.
8. **Advanced Processor**: Branch Prediction, Deep Pipelining, Micro-Operations, Multiple Issue Processors, Multithreading, Multiprocessors, SIMD/Vector Processing, Systolic Arrays.
9. **Memory System Principles**: Memory Hierarchy, Cache, Virtual Memory.
10. **Embedded I/O Systems**: System Interconnection, Addressing Mechanisms, Data Transfer Models, Communication Protocols.
11. **Exception Handling in RISC-V Processors**: Types of exceptions, Exception Handler, Execution Modes and Privilege Levels, RISC-V Exception-Related Instructions.

### Depth and Balance of Coverage

#### Theoretical Understanding

This is very hardcore course, which lays a solid foundation for the processor design. Among the [eight abstraction model from the Harris & Harris book](https://wenbo-notes.gitbook.io/ddca-notes/textbook/from-zero-to-one#abstraction), it covers the microarchitecture and the architecture level. In this course, you will definitely gain the necessary skills to design a **simple** RISC-V processor. But most importantly, it will give you the chance to experience the beauty and elegance of processor design!

As Verilog HDL and the RISC-V assembly will be used in this course, your understanding of RTL design will also be improved greatly! Trust!

#### Application and real-world examples

Under Prof. Rajesh's teaching, this course is highly related to the industry. One direct application is that after 4 labs, you will build a simple pipelined RISC-V CPU using most of the knowledge you have learned during the lecture. Putting what you have learned into practice immediately is one of the most rewarding things I feel! Besides, Prof Rajesh will also introduce some cutting-edge technologies like GPU and Google TPU during the last several lectures, giving a brief idea of how these fancy things go.

#### Challenging or Unique Aspects

1. **How to write GOOD RTL code**: In Hardare Programming, we cannot inherit all the skills smoothly from software programming. Especially in digital electronics, we must **think in hardware**, and the basic unit will be how the data will flow between **two registers**, the time it takes is also known as the **propagation delay**, which is one key factor that limits the performance of our computer.
2. **Pipeling**: Things seem to be easy when you are debugging a single-cycle processor. But everything will become way more complex if you start debugging a pipeline design. (This will be reflected in your Lab 04).
3. **Advanced Processors**: Many modern and fancy technologies are introduced here, adding more difficulty to this course. However, for the sake of this course, the difficulty will only appear in your Final paper as it is not required for you to implement it during the normal labs. However, it will be quite interesting to implement them out after this course ends! (I am doing that now! :smile:)

## Teaching Style and Materials

### Teaching Style

#### Lecture

The lecture is conducted by Prof. Rajesh on every Wednesday evening (6pm - 9pm). To be honest, Prof. Rajest is the **best** prof I have ever met in NUS ECE. He legit knows everything, no matter it is the RISC-V processor or the Vivado Tools, etc. I still can remember he can explain to me for 1 hours plus regarding one small topic. His lecture is very very worth going! Besides, Prof. Rajesh is also very very willing to offer help, no matter it is the technical or general one.

#### Lab

Our lab instructor is Dr. Neil, and the 4 labs for this module is also a highlight, it is where I put what I have learned into practice! I still can remember the joy and excitedness I feel when our benchmark and OLED is running during our last lab! At the end of the 4 labs, you will have a simple pipelined RISC-V processor that supports almost all teh RV32IM instructions!

#### Assessments

1. **Quizzes**: There are 3 quizzes in total, all of them happen during the normal lecture time. Some of the quizzes are not trivial, but they are legit an interesting food for thought. Also, Prof Rajesh will go through some practice before the official quiz, and don't skip them as some very interesting questions might come out and deepen your understanding of certain topics!
2. **Finals**: To be honest, it is one of the **hardest** finals I have ever taken. One big challenge from the finals is that I can clearly feel that it is the first time I saw some of the questions, like the fancy stuff covered in the [advanced processor](https://wenbo-notes.gitbook.io/ddca-notes/lec/lec-06-advanced-processor) topic.

### Course Book

There are two very classic books for this course, and I highly highly recommend you to read them! They are very well written!

**Textbook 1**: *Digital Design and Computer Architecture (RISC-V Edition)* by David Harris and Sarah Harris

![CG3207 Textbook 1](../../assets/images/CG3207_Textbook1.jpg){ width=200 style="display: block; margin: 0 auto" }

**Textbook 2**: *Computer Organization and Design RISC-V Edition: The Hardware Software Interface* by David A. Patterson and John L. Hennessy

![CG3207 Textbook 2](../../assets/images/CG3207_Textbook2.jpg){ width=200 style="display: block; margin: 0 auto" }

!!! info
    During my time, the NUS Library doesn't have these two books and after my request, they get them in less than one month! And now they are available at the NUS Central Library!

## Learning Experience

### Personal Insights

> CG3207 is difficult, but useful.

To be honest, this is one of the most difficult courses I have ever taken in NUS, but also one of the most useful courses! As a follow-up for EE2026 and CG2028 for NUS CEG students, and NTU SC1006 + SC1006 for me, I can legit feel the elegance of RISC-V processor after taking this course, no matter it is in the ISA design or the technologies to improve the throughput and speed of the processor. In this course, I have learned how to squeeze the performance of the processor using some general rules guided by the Henessy & Patterson book. The trade off always exists, but a computer architect shouldn't sacrifice the accuracy for the performance! I would say being a computer architect is really an art!

### Skills Developed

This course have deepened my understanding of computer architecture, equipped me with the skills of RTL Design using Verilog HDL, and RISC-V assembly programming. I have also learned how to use the Makefile when running the benchmark on my prcessor.

## Workload and Time Management

- **Level of Difficulty**: 9/10
- **Tips for future cohort**: I have open-sourced all my lectures notes, summarizing the difficult points I have met when taking this course. Besides, I am also working on an open-source RISC-V processor, aims to teach beginners how to design a complex RISC-V processor! Hope they can help!

## Conclusion

I legit want to express my heartfelt thanks to Prof. Rajesh, Dr. Neil, and my lab groups mates! Without their guidance andd help, I won't be able to finish this difficult but rewarding course!
